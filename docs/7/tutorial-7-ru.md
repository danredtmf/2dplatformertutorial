# 2D –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä

> –ß–∞—Å—Ç—å —Å–µ–¥—å–º–∞—è

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [1. –ó–∞–≥–∞–¥–∫–∞ "–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è": –û–ø–∏—Å–∞–Ω–∏–µ](#1-–æ—Ç–ø—Ä–∞–≤–∫–∞-–ø–æ—Å–ª–∞–Ω–∏—è-–æ–ø–∏—Å–∞–Ω–∏–µ)
- [2. –ó–∞–≥–∞–¥–∫–∞ "–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è": –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å](#2-–æ—Ç–ø—Ä–∞–≤–∫–∞-–ø–æ—Å–ª–∞–Ω–∏—è-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- [3. –ó–∞–≥–∞–¥–∫–∞ "–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è": –î–∏–∑–∞–π–Ω](#3-–æ—Ç–ø—Ä–∞–≤–∫–∞-–ø–æ—Å–ª–∞–Ω–∏—è-–¥–∏–∑–∞–π–Ω)
- [4. –ó–∞–≥–∞–¥–∫–∞ "–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è": –ö–æ–¥](#4-–æ—Ç–ø—Ä–∞–≤–∫–∞-–ø–æ—Å–ª–∞–Ω–∏—è-–∫–æ–¥)
- [5. –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ `BaseLevel`](#5-–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ-–∫–æ–¥–∞-baselevel)
- [6. –ó–∞–¥–∞–Ω–∏–µ](#6-–∑–∞–¥–∞–Ω–∏–µ)

## 1. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è: –û–ø–∏—Å–∞–Ω–∏–µ

–î–∞–Ω–Ω–∞—è –∑–∞–≥–∞–¥–∫–∞ –∫–∞–∫ —Ç–∞–∫–æ–≤–æ–π –∑–∞–≥–∞–¥–∫–æ–π –Ω–µ —è–≤–ª—è–µ—Ç—Å—è. –°—Ü–µ–Ω–∞ –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ "–æ—Ç–ø—Ä–∞–≤–∫–∏" –Ω–µ–∫–æ–≥–æ –ø–æ—Å–ª–∞–Ω–∏—è.

<div style="text-align: center;"><img src="./images/1-1.png" alt="–†–∏—Å—É–Ω–æ–∫ 1-1 ‚Äì –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–∏–Ω–∏-–∏–≥—Ä—ã"></div>
<p align="center">–†–∏—Å—É–Ω–æ–∫ 1-1 ‚Äì –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–∏–Ω–∏-–∏–≥—Ä—ã</p>

–í –∫–æ–Ω—Ü–µ, –º—ã –¥–æ–ø–æ–ª–Ω–∏–º –∫–æ–¥ `BaseLevel` –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã "–∑–∞–≥–∞–¥–∫–∏" –≤ –∏–≥—Ä–µ.

## 2. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–°–æ–∑–¥–∞–¥–∏–º –ø—É—Å—Ç—É—é —Å—Ü–µ–Ω—É —Ç–∏–ø–∞ `Control` –∏ –Ω–∞–∑–æ–≤—ë–º –µ—ë `RiddleAuto`. –î–∞–≤–∞–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏–º –µ—ë —Å—Ä–∞–∑—É –ø–æ —Ç–∞–∫–æ–º—É –ø—É—Ç–∏ `res://objects/riddles/auto/` –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞ `riddle_auto.tscn`.

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è —Å—Ü–µ–Ω—ã —Å –º–∏–Ω–∏-–∏–≥—Ä–æ–π.

<div style="text-align: center;"><img height="600px" src="./images/2-1.png" alt="–†–∏—Å—É–Ω–æ–∫ 2-1 ‚Äì –ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ü–µ–Ω—ã"></div>
<p align="center">–†–∏—Å—É–Ω–æ–∫ 2-1 ‚Äì –ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ü–µ–Ω—ã</p>

–°–æ–∑–¥–∞–¥–∏–º –¥–æ—á–µ—Ä–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã —É `RiddleAuto`:

- `BG` (—Ç–∏–ø `ColorRect`; —Ä–∞—Å—Ç—è–Ω–∏—Ç–µ –æ–±—ä–µ–∫—Ç –Ω–∞ –≤–µ—Å—å —Ä–∞–∑–º–µ—Ä —Å—Ü–µ–Ω—ã —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤; `Color`: `487494`)
- `Margin` (—Ç–∏–ø `MarginContainer`; —Ä–∞—Å—Ç—è–Ω–∏—Ç–µ –æ–±—ä–µ–∫—Ç –Ω–∞ –≤–µ—Å—å —Ä–∞–∑–º–µ—Ä —Å—Ü–µ–Ω—ã —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤; –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Constants` ‚û°Ô∏è `Margin Left / Top / Right / Bottom`: `20`)
  - `MainVBox` (—Ç–∏–ø `VBoxContainer`; –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Container Sizing` ‚û°Ô∏è `Horizontal`: `Shrink Center`; –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Constants` ‚û°Ô∏è `Separation`: `25`)
    - `GameName` (—Ç–∏–ø `Label`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); `Text`: `–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è`, `Horizontal Alignment`: `Center`, `Vertical Alignment`: `Center`, –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Font Sizes` ‚û°Ô∏è `Font Size`: `36`)
    - `TestData` (—Ç–∏–ø `PanelContainer`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è `Custom Minimum Size`: `(x: 600, y: 0)`)
      - > –ò–µ—Ä–∞—Ä—Ö–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤ –æ–±—ä–µ–∫—Ç–∞ `TestData` –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–∏–∂–µ.
    - `LoadingData` (—Ç–∏–ø `PanelContainer`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è `Custom Minimum Size`: `(x: 600, y: 0)`)
      - > –ò–µ—Ä–∞—Ä—Ö–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤ –æ–±—ä–µ–∫—Ç–∞ `LoadingData` –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–∏–∂–µ.
      - > –£–∑–µ–ª —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —É–∑–ª–∞ `TestData`
      - > –°–æ–≤–µ—Ç: –ø—Ä–æ–¥—É–±–ª–∏—Ä—É–π—Ç–µ —É–∑–µ–ª `TestData` –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –µ–≥–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤
    - `ServerLoad` (—Ç–∏–ø `PanelContainer`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è `Custom Minimum Size`: `(x: 600, y: 0)`)
      - > –ò–µ—Ä–∞—Ä—Ö–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤ –æ–±—ä–µ–∫—Ç–∞ `ServerLoad` –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–∏–∂–µ.
      - > –£–∑–µ–ª —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —É–∑–ª–∞ `TestData` –∏–ª–∏ `LoadingData`
      - > –°–æ–≤–µ—Ç: –ø—Ä–æ–¥—É–±–ª–∏—Ä—É–π—Ç–µ —É–∑–µ–ª `TestData` –∏–ª–∏ `LoadingData` –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –µ–≥–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤
    - `ExitButton` (—Ç–∏–ø `Button`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); `Text`: `–í—ã–π—Ç–∏`, –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Font Sizes` ‚û°Ô∏è `Font Size`: `36`)

–ò–µ—Ä–∞—Ä—Ö–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤ –æ–±—ä–µ–∫—Ç–∞ `TestData`:

- `Margin` (—Ç–∏–ø `MarginContainer`; –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Constants` ‚û°Ô∏è `Margin Left / Top / Right / Bottom`: `10`)
  - `VBox` (—Ç–∏–ø `VBoxContainer`; –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Constants` ‚û°Ô∏è `Separation`: `10`)
    - `TestDataInfo` (—Ç–∏–ø `Label`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); `Text`: `–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ—Å–ª–∞–Ω–∏—è`, `Horizontal Alignment`: `Center`, `Vertical Alignment`: `Center`, –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Font Sizes` ‚û°Ô∏è `Font Size`: `24`, –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Colors` ‚û°Ô∏è `Font Color`: `–ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É`)
    - `TestDataProgress` (—Ç–∏–ø `ProgressBar`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è `Custom Minimum Size`: `(x: 0, y: 50)`)

–ò–µ—Ä–∞—Ä—Ö–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤ –æ–±—ä–µ–∫—Ç–∞ `LoadingData`:

- `Margin` (—Ç–∏–ø `MarginContainer`; –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Constants` ‚û°Ô∏è `Margin Left / Top / Right / Bottom`: `10`)
  - `VBox` (—Ç–∏–ø `VBoxContainer`; –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Constants` ‚û°Ô∏è `Separation`: `10`)
    - `LoadingDataInfo` (—Ç–∏–ø `Label`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); `Text`: `–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏`, `Horizontal Alignment`: `Center`, `Vertical Alignment`: `Center`, –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Font Sizes` ‚û°Ô∏è `Font Size`: `24`, –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Colors` ‚û°Ô∏è `Font Color`: `–ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É`)
    - `LoadingDataProgress` (—Ç–∏–ø `ProgressBar`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è `Custom Minimum Size`: `(x: 0, y: 50)`)

–ò–µ—Ä–∞—Ä—Ö–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤ –æ–±—ä–µ–∫—Ç–∞ `ServerLoad`:

- `Margin` (—Ç–∏–ø `MarginContainer`; –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Constants` ‚û°Ô∏è `Margin Left / Top / Right / Bottom`: `10`)
  - `VBox` (—Ç–∏–ø `VBoxContainer`; –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Constants` ‚û°Ô∏è `Separation`: `10`)
    - `ServerLoadInfo` (—Ç–∏–ø `Label`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); `Text`: `–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è`, `Horizontal Alignment`: `Center`, `Vertical Alignment`: `Center`, –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Font Sizes` ‚û°Ô∏è `Font Size`: `24`, –≤–∫–ª–∞–¥–∫–∞ `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫–∞ `Colors` ‚û°Ô∏è `Font Color`: `–ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É`)
    - `ServerLoadLevel` (—Ç–∏–ø `ProgressBar`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è `Custom Minimum Size`: `(x: 0, y: 50)`, `Value`: `50`)
    - `ServerLoadProgress` (—Ç–∏–ø `ProgressBar`; —Å–¥–µ–ª–∞—Ç—å –∏–º—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (`%`); –≤–∫–ª–∞–¥–∫–∞ `Layout` ‚û°Ô∏è `Custom Minimum Size`: `(x: 0, y: 50)`)

## 3. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è: –î–∏–∑–∞–π–Ω

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –æ–±–æ–∑—Ä–∏–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ —Å–æ–≤—Å–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –≤—ã—à–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ. –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∏–∑–∞–π–Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É–∑–ª–æ–≤ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∏–ª–µ–π.

–ù–∞—á–Ω—ë–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª—å —É–∑–ª–∞ `TestData`, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã —Å–º–æ–∂–µ–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—É—á–∏–≤—à–∏–π—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —É–∑–ª—ã `LoadingData` –∏ `ServerLoad`. –í—ã–¥–µ–ª–∏–º —É–∑–µ–ª `TestData` –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∏ –ø–µ—Ä–µ–π–¥—ë–º –≤–æ –≤–∫–ª–∞–¥–∫—É `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫—É `Styles` –∏ –≤ —Å–≤–æ–π—Å—Ç–≤–µ `Panel` —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π `StyleBoxFlat`. –†–∞—Å–∫—Ä–æ–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.

–ò–∑–º–µ–Ω–∏–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ `StyleBoxFlat`:

- `BG Color`: `d9d9d9`
- –í–∫–ª–∞–¥–∫–∞ `Corner Radius` ‚û°Ô∏è `Top Left / Right, Bottom Right / Left`: `8`
- –í–∫–ª–∞–¥–∫–∞ `Shadow`
  - `Color`: `00000019`
  - `Size`: `10`
  - `Offset`: `(x: 1, y: 1)`

–¢–µ–ø–µ—Ä—å –Ω–∞–∂–º—ë–º –Ω–∞ —Å–∞–º –æ–±—ä–µ–∫—Ç `StyleBoxFlat` –ü–ö–ú –∏–ª–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É —Å—Ç—Ä–µ–ª–∫–∏ —Ä—è–¥–æ–º –∏ –≤—ã–±–µ—Ä–∏—Ç–µ `Copy`.

<div style="text-align: center;"><img height="300px" src="./images/3-1.png" alt="–†–∏—Å—É–Ω–æ–∫ 3-1 ‚Äì –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é"></div>
<p align="center">–†–∏—Å—É–Ω–æ–∫ 3-1 ‚Äì –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é</p>

–ó–∞—Ç–µ–º, –≤—ã–¥–µ–ª–∏—Ç–µ —É–∑–µ–ª `LoadingData` –∏ / –∏–ª–∏ `ServerLoad`, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ –≤–æ –≤–∫–ª–∞–¥–∫—É —Å–æ —Å—Ç–∏–ª—è–º–∏ –∏ –≤ —Å–≤–æ–π—Å—Ç–≤–µ `Panel` —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –≤—Å—Ç–∞–≤—å—Ç–µ —Å—Ç–∏–ª—å (–≤—ã–±–µ—Ä–∏—Ç–µ `Paste`). –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –º—ã –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ —Å—Ç–∏–ª—å `TestData` –Ω–∞ —É–∑–µ–ª `LoadingData` –∏ `ServerLoad`.

–¢–µ–ø–µ—Ä—å, –Ω–∞—á–Ω—ë–º –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–∏–ª—å –¥–ª—è —É–∑–ª–∞ `ServerLoadLevel`. –ú—ã —Å–æ–∑–¥–∞–¥–∏–º —Å—Ç–∏–ª—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, —Ü–≤–µ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –æ—Ç—Ç–µ–Ω–∫–æ–º –∑–µ–ª—ë–Ω–æ–≥–æ –∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è —Å–æ–∑–¥–∞–¥–∏–º –µ—â—ë –¥–≤–∞ —Å –∂–µ–ª—Ç—ã–º –∏ –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

–î–ª—è –Ω–∞—á–∞–ª–∞ –≤—ã–¥–µ–ª–∏–º —É–∑–µ–ª `ServerLoadLevel` –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∏ –ø–µ—Ä–µ–π–¥—ë–º –≤–æ –≤–∫–ª–∞–¥–∫—É `Theme Overrides` ‚û°Ô∏è –≤–∫–ª–∞–¥–∫—É `Styles` –∏ –≤ —Å–≤–æ–π—Å—Ç–≤–µ `Fill` —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π `StyleBoxFlat`. –†–∞—Å–∫—Ä–æ–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.

–ò–∑–º–µ–Ω–∏–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ `StyleBoxFlat`:

- `BG Color`: `00ff5780`
- –í–∫–ª–∞–¥–∫–∞ `Corner Radius` ‚û°Ô∏è `Top Left / Right, Bottom Right / Left`: `8`

–¢–µ–ø–µ—Ä—å –Ω–∞–∂–º—ë–º –Ω–∞ —Å–∞–º –æ–±—ä–µ–∫—Ç `StyleBoxFlat` –ü–ö–ú –∏–ª–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É —Å—Ç—Ä–µ–ª–∫–∏ —Ä—è–¥–æ–º –∏ –≤—ã–±–µ—Ä–∏—Ç–µ `Save As...` (üíæ). –°–æ—Ö—Ä–∞–Ω–∏–º –¥–∞–Ω–Ω—ã–π —Å—Ç–∏–ª—å –ø–æ –ø—É—Ç–∏ `res://resources/styles/progress_bar/` –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `fg_green.tres`.

–ú—ã —Å–æ–∑–¥–∞–ª–∏ —Å—Ç–∏–ª—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å –∑–µ–ª—ë–Ω—ã–º —Ü–≤–µ—Ç–æ–º. –°–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Å—Ç–∏–ª—å —Å –∂—ë–ª—Ç—ã–º —Ü–≤–µ—Ç–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ. –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–∂–º—ë–º –Ω–∞ —Å—Ç–∏–ª—å –≤ —Å–≤–æ–π—Å—Ç–≤–µ `Fill` –ü–ö–ú –∏–ª–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É —Å—Ç—Ä–µ–ª–∫–∏ —Ä—è–¥–æ–º –∏ –≤—ã–±–µ—Ä–∏—Ç–µ `Make Unique`. –†–µ–¥–∞–∫—Ç–æ—Ä —Å–æ–∑–¥–∞–ª –∫–æ–ø–∏—é —Å—Ç–∏–ª—è `fg_green` –∏ –≤—Å—Ç–∞–≤–∏–ª –µ—ë –≤ —Å–≤–æ–π—Å—Ç–≤–æ `Fill`.

–ò–∑–º–µ–Ω–∏–º —Ü–≤–µ—Ç —Å—Ç–∏–ª—è –Ω–∞ –∂—ë–ª—Ç—ã–π, –∏–∑–º–µ–Ω–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ `BG Color`: `fae80d80`. –°–æ—Ö—Ä–∞–Ω–∏–º –¥–∞–Ω–Ω—ã–π —Å—Ç–∏–ª—å —á–µ—Ä–µ–∑ `Save As...` –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é –ø–æ –ø—É—Ç–∏ `res://resources/styles/progress_bar/` –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `fg_yellow.tres`.

–¢–∞–∫–∏–º –∂–µ —Å–ø–æ—Å–æ–±–æ–º —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è –∫—Ä–∞—Å–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞. –î–ª—è –∫—Ä–∞—Å–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ `BG Color`: `f5050580`. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–æ–≤—ã–π —Å—Ç–∏–ª—å –ø–æ –ø—É—Ç–∏ `res://resources/styles/progress_bar/` –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `fg_red.tres`.

## 4. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è: –ö–æ–¥

–°–æ–∑–¥–∞–¥–∏–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è `RiddleAuto`:

```gdscript
class_name RiddleAuto
extends Control

@onready var game_name: Label = $"%GameName"

@onready var test_data: PanelContainer = $"%TestData"
@onready var test_data_info: Label = $"%TestDataInfo"
@onready var test_data_progress: ProgressBar = $"%TestDataProgress"

@onready var loading_data: PanelContainer = $"%LoadingData"
@onready var loading_data_info: Label = $"%LoadingDataInfo"
@onready var loading_data_progress: ProgressBar = $"%LoadingDataProgress"

@onready var server_load: PanelContainer = $"%ServerLoad"
@onready var server_load_info: Label = $"%ServerLoadInfo"
@onready var server_load_level: ProgressBar = $"%ServerLoadLevel"
@onready var server_load_level_value: float:
	set(value): _set_server_load_level_value(value)

@onready var server_load_progress: ProgressBar = $"%ServerLoadProgress"

@onready var exit_button: Button = $"%ExitButton"

const progress_bar_style_fg_green := preload("res://resources/styles/progress_bar/fg_green.tres")
const progress_bar_style_fg_yellow := preload("res://resources/styles/progress_bar/fg_yellow.tres")
const progress_bar_style_fg_red := preload("res://resources/styles/progress_bar/fg_red.tres")

var is_busy := false
var riddle_object: RiddleObject

var init_test_data_position: Vector2
var init_loading_data_position: Vector2
var init_server_load_position: Vector2

@export var min_data_duration := 1.0
@export var max_data_duration := 4.0

@export var count_server_load_progress := 15
@export var min_server_load_duration := 0.25
@export var max_server_load_duration := 0.5

var random := RandomNumberGenerator.new()

func _ready() -> void:
	Input.mouse_mode = Input.MOUSE_MODE_VISIBLE
	random.randomize()
	
	init_test_data_position = test_data.position
	init_loading_data_position = loading_data.position
	init_server_load_position = server_load.position
	
	_init_config()
	await get_tree().create_timer(1).timeout
	_start_test_data()

func _set_server_load_level_value(value: float) -> void:
	server_load_level.value = value
	
	var previous_style_path = server_load_level.get("theme_override_styles/fill").resource_path
	
	if value >= 0 and value < 50:
		if previous_style_path != progress_bar_style_fg_green.resource_path:
			server_load_level.set("theme_override_styles/fill", progress_bar_style_fg_green)
	elif value >= 50 and value < 70:
		if previous_style_path != progress_bar_style_fg_yellow.resource_path:
			server_load_level.set("theme_override_styles/fill", progress_bar_style_fg_yellow)
	else:
		if previous_style_path != progress_bar_style_fg_red.resource_path:
			server_load_level.set("theme_override_styles/fill", progress_bar_style_fg_red)

func _get_server_load_level_value() -> float:
	return server_load_level.value

func _init_config():
	test_data.position = init_test_data_position
	test_data.modulate = Color.GRAY
	test_data.modulate.a = 0.0
	
	test_data_progress.value = 0
	
	loading_data.position = init_loading_data_position
	loading_data.modulate = Color.GRAY
	loading_data.modulate.a = 0.0
	
	loading_data_progress.value = 0
	
	server_load.position = init_server_load_position
	server_load.modulate = Color.GRAY
	server_load.modulate.a = 0.0
	
	server_load_level.value = 0
	server_load_level.add_theme_stylebox_override("theme_override_styles/fill", progress_bar_style_fg_green)
	
	server_load_progress.value = 0

func _show_window(window: Control) -> void:
	await get_tree().process_frame
	var animation_window = create_tween()
	var previous_position = window.position
	var offset_position = Vector2(0, 100)
	
	animation_window.parallel().tween_property(window, "position", previous_position, 0.5).from(previous_position - offset_position).set_trans(Tween.TRANS_SINE).set_ease(Tween.EASE_OUT)
	animation_window.parallel().tween_property(window, 'modulate', Color.WHITE, 0.5).from(Color.GRAY).set_trans(Tween.TRANS_SINE).set_ease(Tween.EASE_OUT)
	animation_window.parallel().tween_property(window, 'modulate:a', 1.0, 0.5).from(0.0).set_trans(Tween.TRANS_SINE).set_ease(Tween.EASE_OUT)
	animation_window.play()
	await animation_window.finished
	animation_window.stop()

func _data_animation(window_progress: Control) -> void:
	await get_tree().process_frame
	var duration_array := []
	var progress_array := []
	
	for _i in range(4):
		duration_array.append(random.randf_range(min_data_duration, max_data_duration))
	
	var progress_1 := random.randi_range(1, 25)
	var progress_2 := random.randi_range(1, 25)
	var progress_3 := random.randi_range(1, 25)
	var progress_4 := 100 - (progress_1 + progress_2 + progress_3)
	
	progress_array.append_array([progress_1, progress_2, progress_3, progress_4])
	
	print("Duration Array: ", duration_array)
	print("Progress Array: ", progress_array)
	
	for i in range(4):
		var animation = create_tween()
		var previous_value = window_progress.value
		var final_value = previous_value + progress_array[i]
		print("Previous Value: ", previous_value)
		print("Final Value: ", final_value)
		print("Current Duration Array: ", duration_array[i])
		print("Current Progress Array: ", progress_array[i])
		animation.tween_property(window_progress, 'value', final_value, duration_array[i]).from_current()
		animation.play()
		await animation.finished
		animation.stop()

func _start_test_data() -> void:
	is_busy = true
	await _show_window(test_data)
	await _data_animation(test_data_progress)
	
	await get_tree().create_timer(0.5).timeout
	_start_loading_data()

func _start_loading_data() -> void:
	await _show_window(loading_data)
	await _data_animation(loading_data_progress)
	
	await get_tree().create_timer(0.5).timeout
	_start_server_load()

func _start_server_load() -> void:
	await _show_window(server_load)
	
	var duration_array := []
	var load_array := []
	
	for _i in range(count_server_load_progress):
		duration_array.append(random.randf_range(min_server_load_duration, max_server_load_duration))
	
	for _i in range(count_server_load_progress):
		load_array.append(random.randi_range(0, 100))
	
	server_load_progress.max_value = count_server_load_progress
	
	print("Duration Array: ", duration_array)
	print("Load Array: ", load_array)
	
	for i in range(load_array.size()):
		var animation = create_tween()
		var previous_value = _get_server_load_level_value()
		print("Final Value: ", load_array[i])
		print("Current Duration Array: ", duration_array[i])
		animation.parallel().tween_method(_set_server_load_level_value, previous_value, float(load_array[i]), duration_array[i])
		animation.parallel().tween_property(server_load_progress, 'value', i, duration_array[i]).from_current()
		animation.play()
		await animation.finished
		animation.stop()
	
	var all_load: int = 0
	var average_load: int
	for i in load_array:
		all_load += i
	average_load = int(float(all_load) / load_array.size())
	print("Average Load: ", average_load)
	
	var animation = create_tween()
	var previous_value = _get_server_load_level_value()
	animation.parallel().tween_property(server_load_level, 'value', 0, 1).from_current()
	animation.parallel().tween_method(_set_server_load_level_value, previous_value, float(0), 1)
	animation.parallel().tween_property(server_load_progress, 'value', server_load_progress.max_value, 1).from_current()
	animation.play()
	await animation.finished
	animation.stop()
	is_busy = false
	_closing()

func _hide_window(window: Control) -> void:
	await get_tree().process_frame
	var animation_window = create_tween()
	var previous_position = window.position
	var offset_position = Vector2(0, 100)
	
	animation_window.parallel().tween_property(window, "position", previous_position - offset_position, 0.5).from(previous_position).set_trans(Tween.TRANS_SINE).set_ease(Tween.EASE_OUT)
	animation_window.parallel().tween_property(window, 'modulate', Color.GRAY, 0.5).from(Color.WHITE).set_trans(Tween.TRANS_SINE).set_ease(Tween.EASE_OUT)
	animation_window.parallel().tween_property(window, 'modulate:a', 0.0, 0.5).from(1.0).set_trans(Tween.TRANS_SINE).set_ease(Tween.EASE_OUT)
	animation_window.play()
	await animation_window.finished
	animation_window.stop()

func _closing() -> void:
	exit_button.disabled = true
	
	await get_tree().create_timer(1.0).timeout
	
	if is_busy:
		Input.mouse_mode = Input.MOUSE_MODE_CAPTURED
		EventBus.set_busy_player.emit(false)
		queue_free()
	else:
		await _hide_window(server_load)
		await _hide_window(loading_data)
		await _hide_window(test_data)
		
		EventBus.riddle_solved.emit(riddle_object)
		
		Input.mouse_mode = Input.MOUSE_MODE_CAPTURED
		EventBus.set_busy_player.emit(false)
		queue_free()

func _on_exit_button_pressed() -> void:
	_closing()
```

## 5. –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ `BaseLevel`

–î–æ–ø–æ–ª–Ω–∏–º –∫–æ–¥ `BaseLevel`:

> –ù–æ–≤—ã–µ —Å—Ç—Ä–æ—á–∫–∏ –∫–æ–¥–∞ –±—É–¥—É—Ç –ø–æ–º–µ—á–∞—Ç—å—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º `#!`, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ—á–∫–∏ - `#?`

```gdscript
class_name BaseLevel
extends Node2D

# –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∑–∞–≥–∞–¥–æ–∫
const RIDDLE_LINES := preload("res://objects/riddles/lines/riddle_lines.tscn")
#! –ù–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
const RIDDLE_AUTO := preload("res://objects/riddles/auto/riddle_auto.tscn")

# –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ —É—Å–ª–æ–≤–∏–∏ `RiddleObject.RiddleType.AUTO`
func open_riddle(riddle: RiddleObject) -> void:
	var riddle_ui: Control
	match riddle.riddle_type:
		RiddleObject.RiddleType.LINES:
			print("–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∑–∞–≥–∞–¥–∫–∞ \"–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –õ–∏–Ω–∏–π\"")
			riddle_ui = RIDDLE_LINES.instantiate() as RiddleLines
			riddle_ui.riddle_object = riddle
		RiddleObject.RiddleType.DUBLICATES:
			print("–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∑–∞–≥–∞–¥–∫–∞ \"–£–¥–∞–ª–µ–Ω–∏–µ –î—É–±–ª–∏–∫–∞—Ç–æ–≤\"")
		RiddleObject.RiddleType.AUTO:
			print("–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∑–∞–≥–∞–¥–∫–∞ \"–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å–ª–∞–Ω–∏—è\"")
			#! –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
			riddle_ui = RIDDLE_AUTO.instantiate() as RiddleAuto
			riddle_ui.riddle_object = riddle
	
	_riddles.add_child(riddle_ui)
```

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—É—é –º–∏–Ω–∏-–∏–≥—Ä—É, –∏–∑–º–µ–Ω–∏—Ç–µ —É —É–∑–ª–∞ `RiddleObject` –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ `Riddle Type`: `Auto`.

## 6. –ó–∞–¥–∞–Ω–∏–µ

1. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∏–ª—å –∫–Ω–æ–ø–∫–∏ `ExitButton` –≤ —Å—Ü–µ–Ω–µ `RiddleLines` –∏ `RiddleAuto` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.